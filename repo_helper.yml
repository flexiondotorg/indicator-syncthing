modname: indicator-syncthing
import_name: indicator_syncthing
copyright_years: 2020
author: Dominic Davis-Foster
email: "dominic@davis-foster.co.uk"
version: "0.1.0"
username: domdfcoding
license: Apache
short_desc: 'A Syncthing status menu for Unity and other desktops that support AppIndicator.'

enable_conda: False
enable_tests: False

console_scripts:
  - "indicator_syncthing = indicator_syncthing.__main__:main"
  - "indicator-syncthing = indicator_syncthing.__main__:main"

python_deploy_version: 3.6

# Versions to run tests for
python_versions:
  - '3.6'
  - '3.7'
  - '3.8'

# travis secure password for PyPI
travis_pypi_secure:  "jY2DXZTADTYjT5l7BK9CaQ3Hi/zy/M+tYV7GkMOKgwlzhIKinniR16VvA6nnZPJTO5f5urvH0B2Tmy3ue+k1RowB/QXcERFDmkSnpuijsEUMWEV63L8gXpvnSkmcA5/azubofrYDs0DT00FyPm1Sapc/RXi1THDLYCTju3wq0mkPzmXjBQMP9z86Rn46FGSpCV9N76JIPORSCmBcUHivTw2mQ87aTWby6VgF8zwBSHyAPad5Qo/kXfse0EFIhZ2wnpsEXL/SztcrTr3OPRSUmEO/2F6wdZANP4X7rykL2btcflXZrSLRMbTOAK3gg9qD/lRLBj51W0mpxevihYVBbGs35gV7CBlaolj6eDRtcnPtFOpMOzB2oVYJespiLg8ucmcdd7qUZ8nv86U8HJz22KpiemCqsaOUAdeM/6JQqo4YUws7bhDhAs5Z5cWGexvKC8xUacGPzJGEBJWa7uillgTeZZ4q97smZg5O7ajoDPdA4KNAZ/tAe8Cl41vjEiuut4rOLCDjJj2lMtIilwr5WP8UWFUI09AUjRFDGjlV/LOojvUl3sfHIDSMNDdvio+Uj+3cTzWfifK2Bfx0nDGhE/5/726J35QVCsw4TEJO0eNn2xeshrfasxxoTxL4jSlKfNate0MDNf1rFEkLuWreFkD9q8VaX6X6jsneOzqsN/4="

# additional lines for MANIFEST.in
manifest_additional:
  - "recursive-include indicator_syncthing/icons *"

classifiers:
  - 'Development Status :: 4 - Beta'
  #  - "Development Status :: 5 - Production/Stable"
#  - "Development Status :: 6 - Mature"
#  - "Development Status :: 7 - Inactive"
  - 'Intended Audience :: End Users/Desktop'
  - 'Operating System :: POSIX :: Linux'
  - 'Topic :: Utilities'

additional_setup_args:
  data_files: "[('share/applications', ['indicator-syncthing.desktop'])]"

additional_ignore:
  - "*.desktop"
  - "*.deb"

setup_pre:
  - "# Create .desktop file"
  - "with open(f'indicator-syncthing.desktop', 'w') as desktop:"
  - "\tdesktop.write(f\"\"\"[Desktop Entry]"
  - "Version={__version__}"
  - "Name={modname}"
  - "Comment={short_desc}"
  - "Exec=indicator-syncthing"
  - "Icon=syncthing"
  - "Terminal=false"
  - "Type=Application"
  - "Categories=Utility;"
  - "\"\"\")"

platforms:
  - "Linux"


travis_extra_install_pre:
  - "sudo apt update"
  - sudo apt install libcairo2-dev pkg-config python3-dev libgirepository1.0-dev

travis_ubuntu_version: bionic

mypy_deps:
  - PyGObject-stubs